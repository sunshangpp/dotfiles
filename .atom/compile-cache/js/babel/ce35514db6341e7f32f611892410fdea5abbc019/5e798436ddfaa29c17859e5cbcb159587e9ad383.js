function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

/* eslint-env jasmine */

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

'use babel';

describe('gocodeprovider', function () {
  var completionDelay = null;
  var autocompleteplusMain = null;
  var autocompleteManager = null;
  var goconfigMain = null;
  var autocompletegoMain = null;
  var provider = null;
  var editor = null;
  var editorView = null;
  var workspaceElement = null;
  var suggestionsPromise = null;

  beforeEach(function () {
    waitsForPromise(function () {
      return atom.packages.activatePackage('language-go').then(function () {
        return atom.packages.activatePackage('autocomplete-plus');
      }).then(function (pack) {
        autocompleteplusMain = pack.mainModule;
        return atom.packages.activatePackage('go-config');
      }).then(function (pack) {
        goconfigMain = pack.mainModule;
        return atom.packages.activatePackage('autocomplete-go');
      }).then(function (pack) {
        autocompletegoMain = pack.mainModule;
      });
    });

    waitsFor(function () {
      return autocompleteplusMain.autocompleteManager && autocompleteplusMain.autocompleteManager.ready;
    });

    runs(function () {
      workspaceElement = atom.views.getView(atom.workspace);
      jasmine.attachToDOM(workspaceElement);

      // autocomplete-plus
      autocompleteManager = autocompleteplusMain.getAutocompleteManager();
      spyOn(autocompleteManager, 'displaySuggestions').andCallThrough();
      spyOn(autocompleteManager, 'showSuggestionList').andCallThrough();
      spyOn(autocompleteManager, 'hideSuggestionList').andCallThrough();
      atom.config.set('autocomplete-plus.enableAutoActivation', true);
      completionDelay = 100;
      atom.config.set('autocomplete-plus.autoActivationDelay', completionDelay);
      completionDelay += 100; // Rendering delay

      // autocomplete-go
      atom.config.set('autocomplete-go.snippetMode', 'nameAndType');
      provider = autocompletegoMain.getProvider();
      spyOn(provider, 'getSuggestions').andCallThrough();
      provider.onDidInsertSuggestion = jasmine.createSpy();
      provider.onDidGetSuggestions(function (p) {
        suggestionsPromise = p;
      });
    });

    waitsFor(function () {
      return provider.ready();
    });
  });

  afterEach(function () {
    if (provider !== null) {
      jasmine.unspy(provider, 'getSuggestions');
      provider.dispose();
      provider = null;
    }

    if (autocompleteManager !== null) {
      jasmine.unspy(autocompleteManager, 'displaySuggestions');
      jasmine.unspy(autocompleteManager, 'hideSuggestionList');
      jasmine.unspy(autocompleteManager, 'showSuggestionList');
      autocompleteManager.dispose();
      autocompleteManager = null;
    }

    if (autocompleteplusMain !== null) {
      autocompleteplusMain.deactivate();
      autocompleteplusMain = null;
    }

    if (autocompletegoMain !== null) {
      autocompletegoMain.deactivate();
      autocompletegoMain = null;
    }

    if (goconfigMain !== null) {
      goconfigMain.deactivate();
      goconfigMain = null;
    }

    if (editor !== null) {
      // TODO Close
      editor = null;
    }

    if (editorView !== null) {
      // TODO Close
      editorView = null;
    }

    if (workspaceElement !== null) {
      // TODO Close
      workspaceElement = null;
    }
  });

  describe('when the basic file is opened', function () {
    beforeEach(function () {
      waitsForPromise(function () {
        return atom.workspace.open('basic' + _path2['default'].sep + 'main.go').then(function (e) {
          editor = e;
          editorView = atom.views.getView(editor);
        });
      });
    });

    describe('when snippetMode is nameAndType', function () {
      beforeEach(function () {
        atom.config.set('autocomplete-go.snippetMode', 'nameAndType');
      });

      it('generates snippets with name and type argument placeholders', function () {
        var suggestions = null;
        runs(function () {
          expect(provider).toBeDefined();
          expect(provider.getSuggestions).not.toHaveBeenCalled();
          expect(editorView.querySelector('.autocomplete-plus')).not.toExist();
          editor.setCursorScreenPosition([5, 6]);
          editor.insertText('P');
          advanceClock(completionDelay);
        });

        waitsFor(function () {
          return provider.getSuggestions.calls.length === 1 && suggestionsPromise !== null;
        });

        waitsForPromise(function () {
          return suggestionsPromise.then(function (s) {
            suggestions = s;
          });
        });

        runs(function () {
          expect(provider.getSuggestions).toHaveBeenCalled();
          expect(provider.getSuggestions.calls.length).toBe(1);
          expect(suggestions).toBeTruthy();
          expect(suggestions.length).toBeGreaterThan(0);
          expect(suggestions[0]).toBeTruthy();
          expect(suggestions[0].displayText).toBe('Print(a ...interface{})');
          expect(suggestions[0].snippet).toBe('Print(${1:a ...interface{\\}})$0');
          expect(suggestions[0].replacementPrefix).toBe('P');
          expect(suggestions[0].type).toBe('function');
          expect(suggestions[0].leftLabel).toBe('n int, err error');
          editor.backspace();
        });
      });
    });

    describe('when snippetMode is name', function () {
      beforeEach(function () {
        atom.config.set('autocomplete-go.snippetMode', 'name');
      });

      it('generates snippets with name argument placeholders', function () {
        var suggestions = null;
        runs(function () {
          expect(provider).toBeDefined();
          expect(provider.getSuggestions).not.toHaveBeenCalled();
          expect(editorView.querySelector('.autocomplete-plus')).not.toExist();
          editor.setCursorScreenPosition([5, 6]);
          editor.insertText('P');
          advanceClock(completionDelay);
        });

        waitsFor(function () {
          return provider.getSuggestions.calls.length === 1 && suggestionsPromise !== null;
        });

        waitsForPromise(function () {
          return suggestionsPromise.then(function (s) {
            suggestions = s;
          });
        });

        runs(function () {
          expect(provider.getSuggestions).toHaveBeenCalled();
          expect(provider.getSuggestions.calls.length).toBe(1);
          expect(suggestions).toBeTruthy();
          expect(suggestions.length).toBeGreaterThan(0);
          expect(suggestions[0]).toBeTruthy();
          expect(suggestions[0].displayText).toBe('Print(a ...interface{})');
          expect(suggestions[0].snippet).toBe('Print(${1:a})$0');
          expect(suggestions[0].replacementPrefix).toBe('P');
          expect(suggestions[0].type).toBe('function');
          expect(suggestions[0].leftLabel).toBe('n int, err error');
          editor.backspace();
        });
      });
    });

    describe('when snippetMode is none', function () {
      beforeEach(function () {
        atom.config.set('autocomplete-go.snippetMode', 'none');
      });

      it('generates snippets with no args', function () {
        var suggestions = null;
        runs(function () {
          expect(provider).toBeDefined();
          expect(provider.getSuggestions).not.toHaveBeenCalled();
          expect(editorView.querySelector('.autocomplete-plus')).not.toExist();
          editor.setCursorScreenPosition([5, 6]);
          editor.insertText('P');
          advanceClock(completionDelay);
        });

        waitsFor(function () {
          return provider.getSuggestions.calls.length === 1 && suggestionsPromise !== null;
        });

        waitsForPromise(function () {
          return suggestionsPromise.then(function (s) {
            suggestions = s;
          });
        });

        runs(function () {
          expect(provider.getSuggestions).toHaveBeenCalled();
          expect(provider.getSuggestions.calls.length).toBe(1);
          expect(suggestions).toBeTruthy();
          expect(suggestions.length).toBeGreaterThan(0);
          expect(suggestions[0]).toBeTruthy();
          expect(suggestions[0].displayText).toBe('Print(a ...interface{})');
          expect(suggestions[0].snippet).toBe('Print($0)');
          expect(suggestions[0].replacementPrefix).toBe('P');
          expect(suggestions[0].type).toBe('function');
          expect(suggestions[0].leftLabel).toBe('n int, err error');
          editor.backspace();
        });
      });
    });
  });

  describe('when the go-plus-issue-307 file is opened', function () {
    var suggestions = null;
    beforeEach(function () {
      waitsForPromise(function () {
        return atom.workspace.open('go-plus-issue-307' + _path2['default'].sep + 'main.go').then(function (e) {
          editor = e;
          editorView = atom.views.getView(editor);
        });
      });
    });

    it('returns suggestions to autocomplete-plus scenario 1', function () {
      runs(function () {
        expect(provider).toBeDefined();
        expect(provider.getSuggestions).not.toHaveBeenCalled();
        expect(editorView.querySelector('.autocomplete-plus')).not.toExist();
        editor.setCursorScreenPosition([13, 0]);
        editor.insertText('\tSayHello("world")');
        suggestions = null;
        suggestionsPromise = null;
        advanceClock(completionDelay);
      });

      runs(function () {
        expect(provider.getSuggestions.calls.length).toBe(0);
        expect(suggestionsPromise).toBeFalsy();
        editor.insertText('.');
        advanceClock(completionDelay);
      });

      waitsFor(function () {
        return provider.getSuggestions.calls.length === 1 && suggestionsPromise !== null;
      });

      waitsForPromise(function () {
        return suggestionsPromise.then(function (s) {
          suggestions = s;
        });
      });

      runs(function () {
        expect(provider.getSuggestions).toHaveBeenCalled();
        expect(provider.getSuggestions.calls.length).toBe(1);
        expect(suggestions).toBeTruthy();
        expect(suggestions.length).toBeGreaterThan(0);
        expect(suggestions[0]).toBeTruthy();
        expect(suggestions[0].displayText).toBe('Fatal(v ...interface{})');
        expect(suggestions[0].snippet).toBe('Fatal(${1:v ...interface{\\}})$0');
        expect(suggestions[0].replacementPrefix).toBe('');
        expect(suggestions[0].type).toBe('function');
        expect(suggestions[0].leftLabel).toBe('');
        editor.backspace();
      });
    });

    it('returns suggestions to autocomplete-plus scenario 2', function () {
      runs(function () {
        expect(provider).toBeDefined();
        expect(provider.getSuggestions).not.toHaveBeenCalled();
        expect(editorView.querySelector('.autocomplete-plus')).not.toExist();
        editor.setCursorScreenPosition([13, 0]);
        editor.insertText('\tSayHello("world") ');
        suggestions = null;
        suggestionsPromise = null;
        advanceClock(completionDelay);
      });

      runs(function () {
        expect(provider.getSuggestions.calls.length).toBe(0);
        expect(suggestionsPromise).toBeFalsy();
        editor.insertText('.');
        advanceClock(completionDelay);
      });

      waitsFor(function () {
        return provider.getSuggestions.calls.length === 1 && suggestionsPromise !== null;
      });

      waitsForPromise(function () {
        return suggestionsPromise.then(function (s) {
          suggestions = s;
        });
      });

      runs(function () {
        expect(provider.getSuggestions).toHaveBeenCalled();
        expect(provider.getSuggestions.calls.length).toBe(1);
        expect(suggestions).toBeTruthy();
        expect(suggestions.length).toBeGreaterThan(0);
        expect(suggestions[0]).toBeTruthy();
        expect(suggestions[0].displayText).toBe('Fatal(v ...interface{})');
        expect(suggestions[0].snippet).toBe('Fatal(${1:v ...interface{\\}})$0');
        expect(suggestions[0].replacementPrefix).toBe('');
        expect(suggestions[0].type).toBe('function');
        expect(suggestions[0].leftLabel).toBe('');
        editor.backspace();
      });
    });

    it('returns suggestions to autocomplete-plus scenario 3', function () {
      runs(function () {
        expect(provider).toBeDefined();
        expect(provider.getSuggestions).not.toHaveBeenCalled();
        expect(editorView.querySelector('.autocomplete-plus')).not.toExist();
        editor.setCursorScreenPosition([13, 0]);
        editor.insertText('\tSayHello("world")  ');
        suggestions = null;
        suggestionsPromise = null;
        advanceClock(completionDelay);
      });

      runs(function () {
        expect(provider.getSuggestions.calls.length).toBe(0);
        expect(suggestionsPromise).toBeFalsy();
        editor.insertText('.');
        advanceClock(completionDelay);
      });

      waitsFor(function () {
        return provider.getSuggestions.calls.length === 1 && suggestionsPromise !== null;
      });

      waitsForPromise(function () {
        return suggestionsPromise.then(function (s) {
          suggestions = s;
        });
      });

      runs(function () {
        expect(provider.getSuggestions).toHaveBeenCalled();
        expect(provider.getSuggestions.calls.length).toBe(1);
        expect(suggestions).toBeTruthy();
        expect(suggestions.length).toBeGreaterThan(0);
        expect(suggestions[0]).toBeTruthy();
        expect(suggestions[0].displayText).toBe('Fatal(v ...interface{})');
        expect(suggestions[0].snippet).toBe('Fatal(${1:v ...interface{\\}})$0');
        expect(suggestions[0].replacementPrefix).toBe('');
        expect(suggestions[0].type).toBe('function');
        expect(suggestions[0].leftLabel).toBe('');
        editor.backspace();
      });
    });

    it('returns suggestions to autocomplete-plus scenario 4', function () {
      runs(function () {
        expect(provider).toBeDefined();
        expect(provider.getSuggestions).not.toHaveBeenCalled();
        expect(editorView.querySelector('.autocomplete-plus')).not.toExist();
        editor.setCursorScreenPosition([13, 0]);
        editor.insertText('\tSayHello("world")\t');
        suggestions = null;
        suggestionsPromise = null;
        advanceClock(completionDelay);
      });

      runs(function () {
        expect(provider.getSuggestions.calls.length).toBe(0);
        expect(suggestionsPromise).toBeFalsy();
        editor.insertText('.');
        advanceClock(completionDelay);
      });

      waitsFor(function () {
        return provider.getSuggestions.calls.length === 1 && suggestionsPromise !== null;
      });

      waitsForPromise(function () {
        return suggestionsPromise.then(function (s) {
          suggestions = s;
        });
      });

      runs(function () {
        expect(provider.getSuggestions).toHaveBeenCalled();
        expect(provider.getSuggestions.calls.length).toBe(1);
        expect(suggestions).toBeTruthy();
        expect(suggestions.length).toBeGreaterThan(0);
        expect(suggestions[0]).toBeTruthy();
        expect(suggestions[0].displayText).toBe('Fatal(v ...interface{})');
        expect(suggestions[0].snippet).toBe('Fatal(${1:v ...interface{\\}})$0');
        expect(suggestions[0].replacementPrefix).toBe('');
        expect(suggestions[0].type).toBe('function');
        expect(suggestions[0].leftLabel).toBe('');
        editor.backspace();
      });
    });
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zc3VuLy5hdG9tL3BhY2thZ2VzL2F1dG9jb21wbGV0ZS1nby9zcGVjL2dvY29kZXByb3ZpZGVyLXNwZWMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztvQkFHaUIsTUFBTTs7OztBQUh2QixXQUFXLENBQUE7O0FBS1gsUUFBUSxDQUFDLGdCQUFnQixFQUFFLFlBQU07QUFDL0IsTUFBSSxlQUFlLEdBQUcsSUFBSSxDQUFBO0FBQzFCLE1BQUksb0JBQW9CLEdBQUcsSUFBSSxDQUFBO0FBQy9CLE1BQUksbUJBQW1CLEdBQUcsSUFBSSxDQUFBO0FBQzlCLE1BQUksWUFBWSxHQUFHLElBQUksQ0FBQTtBQUN2QixNQUFJLGtCQUFrQixHQUFHLElBQUksQ0FBQTtBQUM3QixNQUFJLFFBQVEsR0FBRyxJQUFJLENBQUE7QUFDbkIsTUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFBO0FBQ2pCLE1BQUksVUFBVSxHQUFHLElBQUksQ0FBQTtBQUNyQixNQUFJLGdCQUFnQixHQUFHLElBQUksQ0FBQTtBQUMzQixNQUFJLGtCQUFrQixHQUFHLElBQUksQ0FBQTs7QUFFN0IsWUFBVSxDQUFDLFlBQU07QUFDZixtQkFBZSxDQUFDLFlBQU07QUFDcEIsYUFBTyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBTTtBQUM3RCxlQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLENBQUE7T0FDMUQsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFDLElBQUksRUFBSztBQUNoQiw0QkFBb0IsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFBO0FBQ3RDLGVBQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUE7T0FDbEQsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFDLElBQUksRUFBSztBQUNoQixvQkFBWSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUE7QUFDOUIs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QUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQUE7QUFDbEUsY0FBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsa0NBQWtDLENBQUMsQ0FBQTtBQUN2RSxjQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFBO0FBQ2pELGNBQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQzVDLGNBQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFBO0FBQ3pDLGNBQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQTtPQUNuQixDQUFDLENBQUE7S0FDSCxDQUFDLENBQUE7R0FDSCxDQUFDLENBQUE7Q0FDSCxDQUFDLENBQUEiLCJmaWxlIjoiL1VzZXJzL3NzdW4vLmF0b20vcGFja2FnZXMvYXV0b2NvbXBsZXRlLWdvL3NwZWMvZ29jb2RlcHJvdmlkZXItc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnXG4vKiBlc2xpbnQtZW52IGphc21pbmUgKi9cblxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuZGVzY3JpYmUoJ2dvY29kZXByb3ZpZGVyJywgKCkgPT4ge1xuICBsZXQgY29tcGxldGlvbkRlbGF5ID0gbnVsbFxuICBsZXQgYXV0b2NvbXBsZXRlcGx1c01haW4gPSBudWxsXG4gIGxldCBhdXRvY29tcGxldGVNYW5hZ2VyID0gbnVsbFxuICBsZXQgZ29jb25maWdNYWluID0gbnVsbFxuICBsZXQgYXV0b2NvbXBsZXRlZ29NYWluID0gbnVsbFxuICBsZXQgcHJvdmlkZXIgPSBudWxsXG4gIGxldCBlZGl0b3IgPSBudWxsXG4gIGxldCBlZGl0b3JWaWV3ID0gbnVsbFxuICBsZXQgd29ya3NwYWNlRWxlbWVudCA9IG51bGxcbiAgbGV0IHN1Z2dlc3Rpb25zUHJvbWlzZSA9IG51bGxcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICB3YWl0c0ZvclByb21pc2UoKCkgPT4ge1xuICAgICAgcmV0dXJuIGF0b20ucGFja2FnZXMuYWN0aXZhdGVQYWNrYWdlKCdsYW5ndWFnZS1nbycpLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gYXRvbS5wYWNrYWdlcy5hY3RpdmF0ZVBhY2thZ2UoJ2F1dG9jb21wbGV0ZS1wbHVzJylcbiAgICAgIH0pLnRoZW4oKHBhY2spID0+IHtcbiAgICAgICAgYXV0b2NvbXBsZXRlcGx1c01haW4gPSBwYWNrLm1haW5Nb2R1bGVcbiAgICAgICAgcmV0dXJuIGF0b20ucGFja2FnZXMuYWN0aXZhdGVQYWNrYWdlKCdnby1jb25maWcnKVxuICAgICAgfSkudGhlbigocGFjaykgPT4ge1xuICAgICAgICBnb2NvbmZpZ01haW4gPSBwYWNrLm1haW5Nb2R1bGVcbiAgICAgICAgcmV0dXJuIGF0b20ucGFja2FnZXMuYWN0aXZhdGVQYWNrYWdlKCdhdXRvY29tcGxldGUtZ28nKVxuICAgICAgfSkudGhlbigocGFjaykgPT4ge1xuICAgICAgICBhdXRvY29tcGxldGVnb01haW4gPSBwYWNrLm1haW5Nb2R1bGVcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHdhaXRzRm9yKCgpID0+IHtcbiAgICAgIHJldHVybiBhdXRvY29tcGxldGVwbHVzTWFpbi5hdXRvY29tcGxldGVNYW5hZ2VyICYmIGF1dG9jb21wbGV0ZXBsdXNNYWluLmF1dG9jb21wbGV0ZU1hbmFnZXIucmVhZHlcbiAgICB9KVxuXG4gICAgcnVucygoKSA9PiB7XG4gICAgICB3b3Jrc3BhY2VFbGVtZW50ID0gYXRvbS52aWV3cy5nZXRWaWV3KGF0b20ud29ya3NwYWNlKVxuICAgICAgamFzbWluZS5hdHRhY2hUb0RPTSh3b3Jrc3BhY2VFbGVtZW50KVxuXG4gICAgICAvLyBhdXRvY29tcGxldGUtcGx1c1xuICAgICAgYXV0b2NvbXBsZXRlTWFuYWdlciA9IGF1dG9jb21wbGV0ZXBsdXNNYWluLmdldEF1dG9jb21wbGV0ZU1hbmFnZXIoKVxuICAgICAgc3B5T24oYXV0b2NvbXBsZXRlTWFuYWdlciwgJ2Rpc3BsYXlTdWdnZXN0aW9ucycpLmFuZENhbGxUaHJvdWdoKClcbiAgICAgIHNweU9uKGF1dG9jb21wbGV0ZU1hbmFnZXIsICdzaG93U3VnZ2VzdGlvbkxpc3QnKS5hbmRDYWxsVGhyb3VnaCgpXG4gICAgICBzcHlPbihhdXRvY29tcGxldGVNYW5hZ2VyLCAnaGlkZVN1Z2dlc3Rpb25MaXN0JykuYW5kQ2FsbFRocm91Z2goKVxuICAgICAgYXRvbS5jb25maWcuc2V0KCdhdXRvY29tcGxldGUtcGx1cy5lbmFibGVBdXRvQWN0aXZhdGlvbicsIHRydWUpXG4gICAgICBjb21wbGV0aW9uRGVsYXkgPSAxMDBcbiAgICAgIGF0b20uY29uZmlnLnNldCgnYXV0b2NvbXBsZXRlLXBsdXMuYXV0b0FjdGl2YXRpb25EZWxheScsIGNvbXBsZXRpb25EZWxheSlcbiAgICAgIGNvbXBsZXRpb25EZWxheSArPSAxMDAgLy8gUmVuZGVyaW5nIGRlbGF5XG5cbiAgICAgIC8vIGF1dG9jb21wbGV0ZS1nb1xuICAgICAgYXRvbS5jb25maWcuc2V0KCdhdXRvY29tcGxldGUtZ28uc25pcHBldE1vZGUnLCAnbmFtZUFuZFR5cGUnKVxuICAgICAgcHJvdmlkZXIgPSBhdXRvY29tcGxldGVnb01haW4uZ2V0UHJvdmlkZXIoKVxuICAgICAgc3B5T24ocHJvdmlkZXIsICdnZXRTdWdnZXN0aW9ucycpLmFuZENhbGxUaHJvdWdoKClcbiAgICAgIHByb3ZpZGVyLm9uRGlkSW5zZXJ0U3VnZ2VzdGlvbiA9IGphc21pbmUuY3JlYXRlU3B5KClcbiAgICAgIHByb3ZpZGVyLm9uRGlkR2V0U3VnZ2VzdGlvbnMoKHApID0+IHtcbiAgICAgICAgc3VnZ2VzdGlvbnNQcm9taXNlID0gcFxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgd2FpdHNGb3IoKCkgPT4ge1xuICAgICAgcmV0dXJuIHByb3ZpZGVyLnJlYWR5KClcbiAgICB9KVxuICB9KVxuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgaWYgKHByb3ZpZGVyICE9PSBudWxsKSB7XG4gICAgICBqYXNtaW5lLnVuc3B5KHByb3ZpZGVyLCAnZ2V0U3VnZ2VzdGlvbnMnKVxuICAgICAgcHJvdmlkZXIuZGlzcG9zZSgpXG4gICAgICBwcm92aWRlciA9IG51bGxcbiAgICB9XG5cbiAgICBpZiAoYXV0b2NvbXBsZXRlTWFuYWdlciAhPT0gbnVsbCkge1xuICAgICAgamFzbWluZS51bnNweShhdXRvY29tcGxldGVNYW5hZ2VyLCAnZGlzcGxheVN1Z2dlc3Rpb25zJylcbiAgICAgIGphc21pbmUudW5zcHkoYXV0b2NvbXBsZXRlTWFuYWdlciwgJ2hpZGVTdWdnZXN0aW9uTGlzdCcpXG4gICAgICBqYXNtaW5lLnVuc3B5KGF1dG9jb21wbGV0ZU1hbmFnZXIsICdzaG93U3VnZ2VzdGlvbkxpc3QnKVxuICAgICAgYXV0b2NvbXBsZXRlTWFuYWdlci5kaXNwb3NlKClcbiAgICAgIGF1dG9jb21wbGV0ZU1hbmFnZXIgPSBudWxsXG4gICAgfVxuXG4gICAgaWYgKGF1dG9jb21wbGV0ZXBsdXNNYWluICE9PSBudWxsKSB7XG4gICAgICBhdXRvY29tcGxldGVwbHVzTWFpbi5kZWFjdGl2YXRlKClcbiAgICAgIGF1dG9jb21wbGV0ZXBsdXNNYWluID0gbnVsbFxuICAgIH1cblxuICAgIGlmIChhdXRvY29tcGxldGVnb01haW4gIT09IG51bGwpIHtcbiAgICAgIGF1dG9jb21wbGV0ZWdvTWFpbi5kZWFjdGl2YXRlKClcbiAgICAgIGF1dG9jb21wbGV0ZWdvTWFpbiA9IG51bGxcbiAgICB9XG5cbiAgICBpZiAoZ29jb25maWdNYWluICE9PSBudWxsKSB7XG4gICAgICBnb2NvbmZpZ01haW4uZGVhY3RpdmF0ZSgpXG4gICAgICBnb2NvbmZpZ01haW4gPSBudWxsXG4gICAgfVxuXG4gICAgaWYgKGVkaXRvciAhPT0gbnVsbCkge1xuICAgICAgLy8gVE9ETyBDbG9zZVxuICAgICAgZWRpdG9yID0gbnVsbFxuICAgIH1cblxuICAgIGlmIChlZGl0b3JWaWV3ICE9PSBudWxsKSB7XG4gICAgICAvLyBUT0RPIENsb3NlXG4gICAgICBlZGl0b3JWaWV3ID0gbnVsbFxuICAgIH1cblxuICAgIGlmICh3b3Jrc3BhY2VFbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAvLyBUT0RPIENsb3NlXG4gICAgICB3b3Jrc3BhY2VFbGVtZW50ID0gbnVsbFxuICAgIH1cbiAgfSlcblxuICBkZXNjcmliZSgnd2hlbiB0aGUgYmFzaWMgZmlsZSBpcyBvcGVuZWQnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICB3YWl0c0ZvclByb21pc2UoKCkgPT4ge1xuICAgICAgICByZXR1cm4gYXRvbS53b3Jrc3BhY2Uub3BlbignYmFzaWMnICsgcGF0aC5zZXAgKyAnbWFpbi5nbycpLnRoZW4oKGUpID0+IHtcbiAgICAgICAgICBlZGl0b3IgPSBlXG4gICAgICAgICAgZWRpdG9yVmlldyA9IGF0b20udmlld3MuZ2V0VmlldyhlZGl0b3IpXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnd2hlbiBzbmlwcGV0TW9kZSBpcyBuYW1lQW5kVHlwZScsICgpID0+IHtcbiAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICBhdG9tLmNvbmZpZy5zZXQoJ2F1dG9jb21wbGV0ZS1nby5zbmlwcGV0TW9kZScsICduYW1lQW5kVHlwZScpXG4gICAgICB9KVxuXG4gICAgICBpdCgnZ2VuZXJhdGVzIHNuaXBwZXRzIHdpdGggbmFtZSBhbmQgdHlwZSBhcmd1bWVudCBwbGFjZWhvbGRlcnMnLCAoKSA9PiB7XG4gICAgICAgIGxldCBzdWdnZXN0aW9ucyA9IG51bGxcbiAgICAgICAgcnVucygoKSA9PiB7XG4gICAgICAgICAgZXhwZWN0KHByb3ZpZGVyKS50b0JlRGVmaW5lZCgpXG4gICAgICAgICAgZXhwZWN0KHByb3ZpZGVyLmdldFN1Z2dlc3Rpb25zKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgICAgICAgZXhwZWN0KGVkaXRvclZpZXcucXVlcnlTZWxlY3RvcignLmF1dG9jb21wbGV0ZS1wbHVzJykpLm5vdC50b0V4aXN0KClcbiAgICAgICAgICBlZGl0b3Iuc2V0Q3Vyc29yU2NyZWVuUG9zaXRpb24oWzUsIDZdKVxuICAgICAgICAgIGVkaXRvci5pbnNlcnRUZXh0KCdQJylcbiAgICAgICAgICBhZHZhbmNlQ2xvY2soY29tcGxldGlvbkRlbGF5KVxuICAgICAgICB9KVxuXG4gICAgICAgIHdhaXRzRm9yKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gcHJvdmlkZXIuZ2V0U3VnZ2VzdGlvbnMuY2FsbHMubGVuZ3RoID09PSAxICYmIHN1Z2dlc3Rpb25zUHJvbWlzZSAhPT0gbnVsbFxuICAgICAgICB9KVxuXG4gICAgICAgIHdhaXRzRm9yUHJvbWlzZSgoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb25zUHJvbWlzZS50aGVuKChzKSA9PiB7XG4gICAgICAgICAgICBzdWdnZXN0aW9ucyA9IHNcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIHJ1bnMoKCkgPT4ge1xuICAgICAgICAgIGV4cGVjdChwcm92aWRlci5nZXRTdWdnZXN0aW9ucykudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgICAgICAgZXhwZWN0KHByb3ZpZGVyLmdldFN1Z2dlc3Rpb25zLmNhbGxzLmxlbmd0aCkudG9CZSgxKVxuICAgICAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9CZVRydXRoeSgpXG4gICAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApXG4gICAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zWzBdKS50b0JlVHJ1dGh5KClcbiAgICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0uZGlzcGxheVRleHQpLnRvQmUoJ1ByaW50KGEgLi4uaW50ZXJmYWNle30pJylcbiAgICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0uc25pcHBldCkudG9CZSgnUHJpbnQoJHsxOmEgLi4uaW50ZXJmYWNle1xcXFx9fSkkMCcpXG4gICAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zWzBdLnJlcGxhY2VtZW50UHJlZml4KS50b0JlKCdQJylcbiAgICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0udHlwZSkudG9CZSgnZnVuY3Rpb24nKVxuICAgICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS5sZWZ0TGFiZWwpLnRvQmUoJ24gaW50LCBlcnIgZXJyb3InKVxuICAgICAgICAgIGVkaXRvci5iYWNrc3BhY2UoKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgZGVzY3JpYmUoJ3doZW4gc25pcHBldE1vZGUgaXMgbmFtZScsICgpID0+IHtcbiAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICBhdG9tLmNvbmZpZy5zZXQoJ2F1dG9jb21wbGV0ZS1nby5zbmlwcGV0TW9kZScsICduYW1lJylcbiAgICAgIH0pXG5cbiAgICAgIGl0KCdnZW5lcmF0ZXMgc25pcHBldHMgd2l0aCBuYW1lIGFyZ3VtZW50IHBsYWNlaG9sZGVycycsICgpID0+IHtcbiAgICAgICAgbGV0IHN1Z2dlc3Rpb25zID0gbnVsbFxuICAgICAgICBydW5zKCgpID0+IHtcbiAgICAgICAgICBleHBlY3QocHJvdmlkZXIpLnRvQmVEZWZpbmVkKClcbiAgICAgICAgICBleHBlY3QocHJvdmlkZXIuZ2V0U3VnZ2VzdGlvbnMpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICAgICAgICBleHBlY3QoZWRpdG9yVmlldy5xdWVyeVNlbGVjdG9yKCcuYXV0b2NvbXBsZXRlLXBsdXMnKSkubm90LnRvRXhpc3QoKVxuICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3JTY3JlZW5Qb3NpdGlvbihbNSwgNl0pXG4gICAgICAgICAgZWRpdG9yLmluc2VydFRleHQoJ1AnKVxuICAgICAgICAgIGFkdmFuY2VDbG9jayhjb21wbGV0aW9uRGVsYXkpXG4gICAgICAgIH0pXG5cbiAgICAgICAgd2FpdHNGb3IoKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBwcm92aWRlci5nZXRTdWdnZXN0aW9ucy5jYWxscy5sZW5ndGggPT09IDEgJiYgc3VnZ2VzdGlvbnNQcm9taXNlICE9PSBudWxsXG4gICAgICAgIH0pXG5cbiAgICAgICAgd2FpdHNGb3JQcm9taXNlKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbnNQcm9taXNlLnRoZW4oKHMpID0+IHtcbiAgICAgICAgICAgIHN1Z2dlc3Rpb25zID0gc1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgcnVucygoKSA9PiB7XG4gICAgICAgICAgZXhwZWN0KHByb3ZpZGVyLmdldFN1Z2dlc3Rpb25zKS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICAgICAgICBleHBlY3QocHJvdmlkZXIuZ2V0U3VnZ2VzdGlvbnMuY2FsbHMubGVuZ3RoKS50b0JlKDEpXG4gICAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0JlVHJ1dGh5KClcbiAgICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcbiAgICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0pLnRvQmVUcnV0aHkoKVxuICAgICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS5kaXNwbGF5VGV4dCkudG9CZSgnUHJpbnQoYSAuLi5pbnRlcmZhY2V7fSknKVxuICAgICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS5zbmlwcGV0KS50b0JlKCdQcmludCgkezE6YX0pJDAnKVxuICAgICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS5yZXBsYWNlbWVudFByZWZpeCkudG9CZSgnUCcpXG4gICAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zWzBdLnR5cGUpLnRvQmUoJ2Z1bmN0aW9uJylcbiAgICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0ubGVmdExhYmVsKS50b0JlKCduIGludCwgZXJyIGVycm9yJylcbiAgICAgICAgICBlZGl0b3IuYmFja3NwYWNlKClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGRlc2NyaWJlKCd3aGVuIHNuaXBwZXRNb2RlIGlzIG5vbmUnLCAoKSA9PiB7XG4gICAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgYXRvbS5jb25maWcuc2V0KCdhdXRvY29tcGxldGUtZ28uc25pcHBldE1vZGUnLCAnbm9uZScpXG4gICAgICB9KVxuXG4gICAgICBpdCgnZ2VuZXJhdGVzIHNuaXBwZXRzIHdpdGggbm8gYXJncycsICgpID0+IHtcbiAgICAgICAgbGV0IHN1Z2dlc3Rpb25zID0gbnVsbFxuICAgICAgICBydW5zKCgpID0+IHtcbiAgICAgICAgICBleHBlY3QocHJvdmlkZXIpLnRvQmVEZWZpbmVkKClcbiAgICAgICAgICBleHBlY3QocHJvdmlkZXIuZ2V0U3VnZ2VzdGlvbnMpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICAgICAgICBleHBlY3QoZWRpdG9yVmlldy5xdWVyeVNlbGVjdG9yKCcuYXV0b2NvbXBsZXRlLXBsdXMnKSkubm90LnRvRXhpc3QoKVxuICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3JTY3JlZW5Qb3NpdGlvbihbNSwgNl0pXG4gICAgICAgICAgZWRpdG9yLmluc2VydFRleHQoJ1AnKVxuICAgICAgICAgIGFkdmFuY2VDbG9jayhjb21wbGV0aW9uRGVsYXkpXG4gICAgICAgIH0pXG5cbiAgICAgICAgd2FpdHNGb3IoKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBwcm92aWRlci5nZXRTdWdnZXN0aW9ucy5jYWxscy5sZW5ndGggPT09IDEgJiYgc3VnZ2VzdGlvbnNQcm9taXNlICE9PSBudWxsXG4gICAgICAgIH0pXG5cbiAgICAgICAgd2FpdHNGb3JQcm9taXNlKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbnNQcm9taXNlLnRoZW4oKHMpID0+IHtcbiAgICAgICAgICAgIHN1Z2dlc3Rpb25zID0gc1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgcnVucygoKSA9PiB7XG4gICAgICAgICAgZXhwZWN0KHByb3ZpZGVyLmdldFN1Z2dlc3Rpb25zKS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICAgICAgICBleHBlY3QocHJvdmlkZXIuZ2V0U3VnZ2VzdGlvbnMuY2FsbHMubGVuZ3RoKS50b0JlKDEpXG4gICAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0JlVHJ1dGh5KClcbiAgICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcbiAgICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0pLnRvQmVUcnV0aHkoKVxuICAgICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS5kaXNwbGF5VGV4dCkudG9CZSgnUHJpbnQoYSAuLi5pbnRlcmZhY2V7fSknKVxuICAgICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS5zbmlwcGV0KS50b0JlKCdQcmludCgkMCknKVxuICAgICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS5yZXBsYWNlbWVudFByZWZpeCkudG9CZSgnUCcpXG4gICAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zWzBdLnR5cGUpLnRvQmUoJ2Z1bmN0aW9uJylcbiAgICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0ubGVmdExhYmVsKS50b0JlKCduIGludCwgZXJyIGVycm9yJylcbiAgICAgICAgICBlZGl0b3IuYmFja3NwYWNlKClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnd2hlbiB0aGUgZ28tcGx1cy1pc3N1ZS0zMDcgZmlsZSBpcyBvcGVuZWQnLCAoKSA9PiB7XG4gICAgbGV0IHN1Z2dlc3Rpb25zID0gbnVsbFxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgd2FpdHNGb3JQcm9taXNlKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIGF0b20ud29ya3NwYWNlLm9wZW4oJ2dvLXBsdXMtaXNzdWUtMzA3JyArIHBhdGguc2VwICsgJ21haW4uZ28nKS50aGVuKChlKSA9PiB7XG4gICAgICAgICAgZWRpdG9yID0gZVxuICAgICAgICAgIGVkaXRvclZpZXcgPSBhdG9tLnZpZXdzLmdldFZpZXcoZWRpdG9yKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ3JldHVybnMgc3VnZ2VzdGlvbnMgdG8gYXV0b2NvbXBsZXRlLXBsdXMgc2NlbmFyaW8gMScsICgpID0+IHtcbiAgICAgIHJ1bnMoKCkgPT4ge1xuICAgICAgICBleHBlY3QocHJvdmlkZXIpLnRvQmVEZWZpbmVkKClcbiAgICAgICAgZXhwZWN0KHByb3ZpZGVyLmdldFN1Z2dlc3Rpb25zKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgICAgIGV4cGVjdChlZGl0b3JWaWV3LnF1ZXJ5U2VsZWN0b3IoJy5hdXRvY29tcGxldGUtcGx1cycpKS5ub3QudG9FeGlzdCgpXG4gICAgICAgIGVkaXRvci5zZXRDdXJzb3JTY3JlZW5Qb3NpdGlvbihbMTMsIDBdKVxuICAgICAgICBlZGl0b3IuaW5zZXJ0VGV4dCgnXFx0U2F5SGVsbG8oXCJ3b3JsZFwiKScpXG4gICAgICAgIHN1Z2dlc3Rpb25zID0gbnVsbFxuICAgICAgICBzdWdnZXN0aW9uc1Byb21pc2UgPSBudWxsXG4gICAgICAgIGFkdmFuY2VDbG9jayhjb21wbGV0aW9uRGVsYXkpXG4gICAgICB9KVxuXG4gICAgICBydW5zKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHByb3ZpZGVyLmdldFN1Z2dlc3Rpb25zLmNhbGxzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNQcm9taXNlKS50b0JlRmFsc3koKVxuICAgICAgICBlZGl0b3IuaW5zZXJ0VGV4dCgnLicpXG4gICAgICAgIGFkdmFuY2VDbG9jayhjb21wbGV0aW9uRGVsYXkpXG4gICAgICB9KVxuXG4gICAgICB3YWl0c0ZvcigoKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm92aWRlci5nZXRTdWdnZXN0aW9ucy5jYWxscy5sZW5ndGggPT09IDEgJiYgc3VnZ2VzdGlvbnNQcm9taXNlICE9PSBudWxsXG4gICAgICB9KVxuXG4gICAgICB3YWl0c0ZvclByb21pc2UoKCkgPT4ge1xuICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbnNQcm9taXNlLnRoZW4oKHMpID0+IHtcbiAgICAgICAgICBzdWdnZXN0aW9ucyA9IHNcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIHJ1bnMoKCkgPT4ge1xuICAgICAgICBleHBlY3QocHJvdmlkZXIuZ2V0U3VnZ2VzdGlvbnMpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgICAgICBleHBlY3QocHJvdmlkZXIuZ2V0U3VnZ2VzdGlvbnMuY2FsbHMubGVuZ3RoKS50b0JlKDEpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9CZVRydXRoeSgpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0pLnRvQmVUcnV0aHkoKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0uZGlzcGxheVRleHQpLnRvQmUoJ0ZhdGFsKHYgLi4uaW50ZXJmYWNle30pJylcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zWzBdLnNuaXBwZXQpLnRvQmUoJ0ZhdGFsKCR7MTp2IC4uLmludGVyZmFjZXtcXFxcfX0pJDAnKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0ucmVwbGFjZW1lbnRQcmVmaXgpLnRvQmUoJycpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS50eXBlKS50b0JlKCdmdW5jdGlvbicpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS5sZWZ0TGFiZWwpLnRvQmUoJycpXG4gICAgICAgIGVkaXRvci5iYWNrc3BhY2UoKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ3JldHVybnMgc3VnZ2VzdGlvbnMgdG8gYXV0b2NvbXBsZXRlLXBsdXMgc2NlbmFyaW8gMicsICgpID0+IHtcbiAgICAgIHJ1bnMoKCkgPT4ge1xuICAgICAgICBleHBlY3QocHJvdmlkZXIpLnRvQmVEZWZpbmVkKClcbiAgICAgICAgZXhwZWN0KHByb3ZpZGVyLmdldFN1Z2dlc3Rpb25zKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgICAgIGV4cGVjdChlZGl0b3JWaWV3LnF1ZXJ5U2VsZWN0b3IoJy5hdXRvY29tcGxldGUtcGx1cycpKS5ub3QudG9FeGlzdCgpXG4gICAgICAgIGVkaXRvci5zZXRDdXJzb3JTY3JlZW5Qb3NpdGlvbihbMTMsIDBdKVxuICAgICAgICBlZGl0b3IuaW5zZXJ0VGV4dCgnXFx0U2F5SGVsbG8oXCJ3b3JsZFwiKSAnKVxuICAgICAgICBzdWdnZXN0aW9ucyA9IG51bGxcbiAgICAgICAgc3VnZ2VzdGlvbnNQcm9taXNlID0gbnVsbFxuICAgICAgICBhZHZhbmNlQ2xvY2soY29tcGxldGlvbkRlbGF5KVxuICAgICAgfSlcblxuICAgICAgcnVucygoKSA9PiB7XG4gICAgICAgIGV4cGVjdChwcm92aWRlci5nZXRTdWdnZXN0aW9ucy5jYWxscy5sZW5ndGgpLnRvQmUoMClcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zUHJvbWlzZSkudG9CZUZhbHN5KClcbiAgICAgICAgZWRpdG9yLmluc2VydFRleHQoJy4nKVxuICAgICAgICBhZHZhbmNlQ2xvY2soY29tcGxldGlvbkRlbGF5KVxuICAgICAgfSlcblxuICAgICAgd2FpdHNGb3IoKCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdmlkZXIuZ2V0U3VnZ2VzdGlvbnMuY2FsbHMubGVuZ3RoID09PSAxICYmIHN1Z2dlc3Rpb25zUHJvbWlzZSAhPT0gbnVsbFxuICAgICAgfSlcblxuICAgICAgd2FpdHNGb3JQcm9taXNlKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb25zUHJvbWlzZS50aGVuKChzKSA9PiB7XG4gICAgICAgICAgc3VnZ2VzdGlvbnMgPSBzXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBydW5zKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHByb3ZpZGVyLmdldFN1Z2dlc3Rpb25zKS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICAgICAgZXhwZWN0KHByb3ZpZGVyLmdldFN1Z2dlc3Rpb25zLmNhbGxzLmxlbmd0aCkudG9CZSgxKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnMpLnRvQmVUcnV0aHkoKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zWzBdKS50b0JlVHJ1dGh5KClcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zWzBdLmRpc3BsYXlUZXh0KS50b0JlKCdGYXRhbCh2IC4uLmludGVyZmFjZXt9KScpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS5zbmlwcGV0KS50b0JlKCdGYXRhbCgkezE6diAuLi5pbnRlcmZhY2V7XFxcXH19KSQwJylcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zWzBdLnJlcGxhY2VtZW50UHJlZml4KS50b0JlKCcnKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0udHlwZSkudG9CZSgnZnVuY3Rpb24nKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0ubGVmdExhYmVsKS50b0JlKCcnKVxuICAgICAgICBlZGl0b3IuYmFja3NwYWNlKClcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdyZXR1cm5zIHN1Z2dlc3Rpb25zIHRvIGF1dG9jb21wbGV0ZS1wbHVzIHNjZW5hcmlvIDMnLCAoKSA9PiB7XG4gICAgICBydW5zKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHByb3ZpZGVyKS50b0JlRGVmaW5lZCgpXG4gICAgICAgIGV4cGVjdChwcm92aWRlci5nZXRTdWdnZXN0aW9ucykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgICAgICBleHBlY3QoZWRpdG9yVmlldy5xdWVyeVNlbGVjdG9yKCcuYXV0b2NvbXBsZXRlLXBsdXMnKSkubm90LnRvRXhpc3QoKVxuICAgICAgICBlZGl0b3Iuc2V0Q3Vyc29yU2NyZWVuUG9zaXRpb24oWzEzLCAwXSlcbiAgICAgICAgZWRpdG9yLmluc2VydFRleHQoJ1xcdFNheUhlbGxvKFwid29ybGRcIikgICcpXG4gICAgICAgIHN1Z2dlc3Rpb25zID0gbnVsbFxuICAgICAgICBzdWdnZXN0aW9uc1Byb21pc2UgPSBudWxsXG4gICAgICAgIGFkdmFuY2VDbG9jayhjb21wbGV0aW9uRGVsYXkpXG4gICAgICB9KVxuXG4gICAgICBydW5zKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHByb3ZpZGVyLmdldFN1Z2dlc3Rpb25zLmNhbGxzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNQcm9taXNlKS50b0JlRmFsc3koKVxuICAgICAgICBlZGl0b3IuaW5zZXJ0VGV4dCgnLicpXG4gICAgICAgIGFkdmFuY2VDbG9jayhjb21wbGV0aW9uRGVsYXkpXG4gICAgICB9KVxuXG4gICAgICB3YWl0c0ZvcigoKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm92aWRlci5nZXRTdWdnZXN0aW9ucy5jYWxscy5sZW5ndGggPT09IDEgJiYgc3VnZ2VzdGlvbnNQcm9taXNlICE9PSBudWxsXG4gICAgICB9KVxuXG4gICAgICB3YWl0c0ZvclByb21pc2UoKCkgPT4ge1xuICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbnNQcm9taXNlLnRoZW4oKHMpID0+IHtcbiAgICAgICAgICBzdWdnZXN0aW9ucyA9IHNcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIHJ1bnMoKCkgPT4ge1xuICAgICAgICBleHBlY3QocHJvdmlkZXIuZ2V0U3VnZ2VzdGlvbnMpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgICAgICBleHBlY3QocHJvdmlkZXIuZ2V0U3VnZ2VzdGlvbnMuY2FsbHMubGVuZ3RoKS50b0JlKDEpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9CZVRydXRoeSgpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0pLnRvQmVUcnV0aHkoKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0uZGlzcGxheVRleHQpLnRvQmUoJ0ZhdGFsKHYgLi4uaW50ZXJmYWNle30pJylcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zWzBdLnNuaXBwZXQpLnRvQmUoJ0ZhdGFsKCR7MTp2IC4uLmludGVyZmFjZXtcXFxcfX0pJDAnKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0ucmVwbGFjZW1lbnRQcmVmaXgpLnRvQmUoJycpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS50eXBlKS50b0JlKCdmdW5jdGlvbicpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS5sZWZ0TGFiZWwpLnRvQmUoJycpXG4gICAgICAgIGVkaXRvci5iYWNrc3BhY2UoKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ3JldHVybnMgc3VnZ2VzdGlvbnMgdG8gYXV0b2NvbXBsZXRlLXBsdXMgc2NlbmFyaW8gNCcsICgpID0+IHtcbiAgICAgIHJ1bnMoKCkgPT4ge1xuICAgICAgICBleHBlY3QocHJvdmlkZXIpLnRvQmVEZWZpbmVkKClcbiAgICAgICAgZXhwZWN0KHByb3ZpZGVyLmdldFN1Z2dlc3Rpb25zKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgICAgIGV4cGVjdChlZGl0b3JWaWV3LnF1ZXJ5U2VsZWN0b3IoJy5hdXRvY29tcGxldGUtcGx1cycpKS5ub3QudG9FeGlzdCgpXG4gICAgICAgIGVkaXRvci5zZXRDdXJzb3JTY3JlZW5Qb3NpdGlvbihbMTMsIDBdKVxuICAgICAgICBlZGl0b3IuaW5zZXJ0VGV4dCgnXFx0U2F5SGVsbG8oXCJ3b3JsZFwiKVxcdCcpXG4gICAgICAgIHN1Z2dlc3Rpb25zID0gbnVsbFxuICAgICAgICBzdWdnZXN0aW9uc1Byb21pc2UgPSBudWxsXG4gICAgICAgIGFkdmFuY2VDbG9jayhjb21wbGV0aW9uRGVsYXkpXG4gICAgICB9KVxuXG4gICAgICBydW5zKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHByb3ZpZGVyLmdldFN1Z2dlc3Rpb25zLmNhbGxzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNQcm9taXNlKS50b0JlRmFsc3koKVxuICAgICAgICBlZGl0b3IuaW5zZXJ0VGV4dCgnLicpXG4gICAgICAgIGFkdmFuY2VDbG9jayhjb21wbGV0aW9uRGVsYXkpXG4gICAgICB9KVxuXG4gICAgICB3YWl0c0ZvcigoKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm92aWRlci5nZXRTdWdnZXN0aW9ucy5jYWxscy5sZW5ndGggPT09IDEgJiYgc3VnZ2VzdGlvbnNQcm9taXNlICE9PSBudWxsXG4gICAgICB9KVxuXG4gICAgICB3YWl0c0ZvclByb21pc2UoKCkgPT4ge1xuICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbnNQcm9taXNlLnRoZW4oKHMpID0+IHtcbiAgICAgICAgICBzdWdnZXN0aW9ucyA9IHNcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIHJ1bnMoKCkgPT4ge1xuICAgICAgICBleHBlY3QocHJvdmlkZXIuZ2V0U3VnZ2VzdGlvbnMpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgICAgICBleHBlY3QocHJvdmlkZXIuZ2V0U3VnZ2VzdGlvbnMuY2FsbHMubGVuZ3RoKS50b0JlKDEpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9CZVRydXRoeSgpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0pLnRvQmVUcnV0aHkoKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0uZGlzcGxheVRleHQpLnRvQmUoJ0ZhdGFsKHYgLi4uaW50ZXJmYWNle30pJylcbiAgICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zWzBdLnNuaXBwZXQpLnRvQmUoJ0ZhdGFsKCR7MTp2IC4uLmludGVyZmFjZXtcXFxcfX0pJDAnKVxuICAgICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0ucmVwbGFjZW1lbnRQcmVmaXgpLnRvQmUoJycpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS50eXBlKS50b0JlKCdmdW5jdGlvbicpXG4gICAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS5sZWZ0TGFiZWwpLnRvQmUoJycpXG4gICAgICAgIGVkaXRvci5iYWNrc3BhY2UoKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxufSlcbiJdfQ==
//# sourceURL=/Users/ssun/.atom/packages/autocomplete-go/spec/gocodeprovider-spec.js
