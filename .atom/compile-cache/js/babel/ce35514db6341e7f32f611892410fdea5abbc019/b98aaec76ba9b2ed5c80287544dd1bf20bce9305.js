function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

/* eslint-env jasmine */

var _libGocoverParser = require('./../lib/gocover-parser');

var _fsPlus = require('fs-plus');

var _fsPlus2 = _interopRequireDefault(_fsPlus);

var _os = require('os');

var _os2 = _interopRequireDefault(_os);

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _temp = require('temp');

var _temp2 = _interopRequireDefault(_temp);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

'use babel';

describe('gocover-parser', function () {
  var goconfig = null;
  var env = undefined;
  var directory = undefined;
  var filePath = undefined;
  var testFilePath = undefined;

  beforeEach(function () {
    waitsForPromise(function () {
      return atom.packages.activatePackage('go-config').then(function (pack) {
        goconfig = pack.mainModule.provide();
      });
    });

    waitsFor(function () {
      return goconfig !== null;
    });

    runs(function () {
      _temp2['default'].track();
      directory = _temp2['default'].mkdirSync();
      env = Object.assign({}, goconfig.environment());
      env['GOPATH'] = directory;
      filePath = _path2['default'].join(directory, 'src', 'github.com', 'testuser', 'example', 'go-plus.go');
      testFilePath = _path2['default'].join(directory, 'src', 'github.com', 'testuser', 'example', 'go-plus_test.go');
      _fsPlus2['default'].writeFileSync(filePath, 'package main\n\nimport "fmt"\n\nfunc main()  {\n\tfmt.Println(Hello())\n}\n\nfunc Hello() string {\n\treturn "Hello, 世界"\n}\n');
      _fsPlus2['default'].writeFileSync(testFilePath, 'package main\n\nimport "testing"\n\nfunc TestHello(t *testing.T) {\n\tresult := Hello()\n\tif result != "Hello, 世界" {\n\t\tt.Errorf("Expected %s - got %s", "Hello, 世界", result)\n\t}\n}');
    });
  });

  it('parses the file for a single package correctly', function () {
    var cmd = undefined;
    var tempDir = _temp2['default'].mkdirSync();
    var tempFile = _path2['default'].join(tempDir, 'coverage.out');
    var args = ['test', '-coverprofile=' + tempFile];
    var cwd = _path2['default'].join(directory, 'src', 'github.com', 'testuser', 'example');
    var locatorOptions = { directory: cwd, env: env };
    var p = goconfig.locator.findTool('go', locatorOptions).then(function (c) {
      expect(c).toBeTruthy();
      cmd = c;
      return;
    });

    waitsForPromise(function () {
      return p;
    });

    runs(function () {
      var executorOptions = { cwd: cwd, env: env };
      p = goconfig.executor.exec(cmd, args, executorOptions).then(function (r) {
        expect(r.exitcode).toBe(0);
        expect(r.stderr).toBeFalsy();
        expect(r.stdout).toBeTruthy();
      });
    });

    waitsForPromise(function () {
      return p;
    });

    runs(function () {
      var retext = '^' + _path2['default'].join(directory, 'src') + _path2['default'].sep;
      if (_os2['default'].platform() === 'win32') {
        retext = retext.replace(/\\/g, '\\\\');
      }

      var re = new RegExp(retext);
      var packagePath = filePath.replace(re, '');

      var r = (0, _libGocoverParser.ranges)(tempFile);
      expect(r).toBeTruthy();
      expect(r.length).toBeGreaterThan(0);

      var result = _lodash2['default'].filter(r, function (r) {
        return _lodash2['default'].endsWith(filePath, r.file);
      });
      expect(result).toBeTruthy();
      expect(result.length).toBe(2);
      expect(result[0]).toBeDefined();
      expect(result[0].range.start).toBeDefined();
      expect(result[0].range.end).toBeDefined();
      expect(result[0].range.start.column).toBe(13);
      expect(result[0].range.start.row).toBe(4);
      expect(result[0].range.end.column).toBe(1);
      expect(result[0].range.end.row).toBe(6);
      expect(result[0].count).toBe(0);
      expect(result[0].file).toBe(packagePath);

      expect(result[1]).toBeDefined();
      expect(result[1].range.start).toBeDefined();
      expect(result[1].range.end).toBeDefined();
      expect(result[1].range.start.column).toBe(20);
      expect(result[1].range.start.row).toBe(8);
      expect(result[1].range.end.column).toBe(1);
      expect(result[1].range.end.row).toBe(10);
      expect(result[1].count).toBe(1);
      expect(result[1].file).toBe(packagePath);
    });
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zc3VuLy5hdG9tL3BhY2thZ2VzL3Rlc3Rlci1nby9zcGVjL2dvY292ZXItcGFyc2VyLXNwZWMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztnQ0FFcUIseUJBQXlCOztzQkFDL0IsU0FBUzs7OztrQkFDVCxJQUFJOzs7O29CQUNGLE1BQU07Ozs7b0JBQ04sTUFBTTs7OztzQkFDVCxRQUFROzs7O0FBUHRCLFdBQVcsQ0FBQTs7QUFTWCxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsWUFBTTtBQUMvQixNQUFJLFFBQVEsR0FBRyxJQUFJLENBQUE7QUFDbkIsTUFBSSxHQUFHLFlBQUEsQ0FBQTtBQUNQLE1BQUksU0FBUyxZQUFBLENBQUE7QUFDYixNQUFJLFFBQVEsWUFBQSxDQUFBO0FBQ1osTUFBSSxZQUFZLFlBQUEsQ0FBQTs7QUFFaEIsWUFBVSxDQUFDLFlBQU07QUFDZixtQkFBZSxDQUFDLFlBQU07QUFDcEIsYUFBTyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxJQUFJLEVBQUs7QUFDL0QsZ0JBQVEsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFBO09BQ3JDLENBQUMsQ0FBQTtLQUNILENBQUMsQ0FBQTs7QUFFRixZQUFRLENBQUMsWUFBTTtBQUNiLGFBQU8sUUFBUSxLQUFLLElBQUksQ0FBQTtLQUN6QixDQUFDLENBQUE7O0FBRUYsUUFBSSxDQUFDLFlBQU07QUFDVCx3QkFBSyxLQUFLLEVBQUUsQ0FBQTtBQUNaLGVBQVMsR0FBRyxrQkFBSyxTQUFTLEVBQUUsQ0FBQTtBQUM1QixTQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUE7QUFDL0MsU0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLFNBQVMsQ0FBQTtBQUN6QixjQUFRLEdBQUcsa0JBQUssSUFBSSxDQUFDLFNBQVMsRUFB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QyxVQUFVLEVBQUUsQ0FBQTtBQUN0QixZQUFNLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQTs7QUFFbkMsVUFBSSxNQUFNLEdBQUcsb0JBQUUsTUFBTSxDQUFDLENBQUMsRUFBRSxVQUFDLENBQUMsRUFBSztBQUFFLGVBQU8sb0JBQUUsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUE7T0FBRSxDQUFDLENBQUE7QUFDeEUsWUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFBO0FBQzNCLFlBQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQzdCLFlBQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtBQUMvQixZQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtBQUMzQyxZQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtBQUN6QyxZQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFBO0FBQzdDLFlBQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDekMsWUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUMxQyxZQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ3ZDLFlBQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQy9CLFlBQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFBOztBQUV4QyxZQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7QUFDL0IsWUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7QUFDM0MsWUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7QUFDekMsWUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQTtBQUM3QyxZQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ3pDLFlBQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDMUMsWUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQTtBQUN4QyxZQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUMvQixZQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQTtLQUN6QyxDQUFDLENBQUE7R0FDSCxDQUFDLENBQUE7Q0FDSCxDQUFDLENBQUEiLCJmaWxlIjoiL1VzZXJzL3NzdW4vLmF0b20vcGFja2FnZXMvdGVzdGVyLWdvL3NwZWMvZ29jb3Zlci1wYXJzZXItc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnXG4vKiBlc2xpbnQtZW52IGphc21pbmUgKi9cbmltcG9ydCB7cmFuZ2VzfSBmcm9tICcuLy4uL2xpYi9nb2NvdmVyLXBhcnNlcidcbmltcG9ydCBmcyBmcm9tICdmcy1wbHVzJ1xuaW1wb3J0IG9zIGZyb20gJ29zJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCB0ZW1wIGZyb20gJ3RlbXAnXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5cbmRlc2NyaWJlKCdnb2NvdmVyLXBhcnNlcicsICgpID0+IHtcbiAgbGV0IGdvY29uZmlnID0gbnVsbFxuICBsZXQgZW52XG4gIGxldCBkaXJlY3RvcnlcbiAgbGV0IGZpbGVQYXRoXG4gIGxldCB0ZXN0RmlsZVBhdGhcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICB3YWl0c0ZvclByb21pc2UoKCkgPT4ge1xuICAgICAgcmV0dXJuIGF0b20ucGFja2FnZXMuYWN0aXZhdGVQYWNrYWdlKCdnby1jb25maWcnKS50aGVuKChwYWNrKSA9PiB7XG4gICAgICAgIGdvY29uZmlnID0gcGFjay5tYWluTW9kdWxlLnByb3ZpZGUoKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgd2FpdHNGb3IoKCkgPT4ge1xuICAgICAgcmV0dXJuIGdvY29uZmlnICE9PSBudWxsXG4gICAgfSlcblxuICAgIHJ1bnMoKCkgPT4ge1xuICAgICAgdGVtcC50cmFjaygpXG4gICAgICBkaXJlY3RvcnkgPSB0ZW1wLm1rZGlyU3luYygpXG4gICAgICBlbnYgPSBPYmplY3QuYXNzaWduKHt9LCBnb2NvbmZpZy5lbnZpcm9ubWVudCgpKVxuICAgICAgZW52WydHT1BBVEgnXSA9IGRpcmVjdG9yeVxuICAgICAgZmlsZVBhdGggPSBwYXRoLmpvaW4oZGlyZWN0b3J5LCAnc3JjJywgJ2dpdGh1Yi5jb20nLCAndGVzdHVzZXInLCAnZXhhbXBsZScsICdnby1wbHVzLmdvJylcbiAgICAgIHRlc3RGaWxlUGF0aCA9IHBhdGguam9pbihkaXJlY3RvcnksICdzcmMnLCAnZ2l0aHViLmNvbScsICd0ZXN0dXNlcicsICdleGFtcGxlJywgJ2dvLXBsdXNfdGVzdC5nbycpXG4gICAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCAncGFja2FnZSBtYWluXFxuXFxuaW1wb3J0IFwiZm10XCJcXG5cXG5mdW5jIG1haW4oKSAge1xcblxcdGZtdC5QcmludGxuKEhlbGxvKCkpXFxufVxcblxcbmZ1bmMgSGVsbG8oKSBzdHJpbmcge1xcblxcdHJldHVybiBcIkhlbGxvLCDkuJbnlYxcIlxcbn1cXG4nKVxuICAgICAgZnMud3JpdGVGaWxlU3luYyh0ZXN0RmlsZVBhdGgsICdwYWNrYWdlIG1haW5cXG5cXG5pbXBvcnQgXCJ0ZXN0aW5nXCJcXG5cXG5mdW5jIFRlc3RIZWxsbyh0ICp0ZXN0aW5nLlQpIHtcXG5cXHRyZXN1bHQgOj0gSGVsbG8oKVxcblxcdGlmIHJlc3VsdCAhPSBcIkhlbGxvLCDkuJbnlYxcIiB7XFxuXFx0XFx0dC5FcnJvcmYoXCJFeHBlY3RlZCAlcyAtIGdvdCAlc1wiLCBcIkhlbGxvLCDkuJbnlYxcIiwgcmVzdWx0KVxcblxcdH1cXG59JylcbiAgICB9KVxuICB9KVxuXG4gIGl0KCdwYXJzZXMgdGhlIGZpbGUgZm9yIGEgc2luZ2xlIHBhY2thZ2UgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIGxldCBjbWRcbiAgICBsZXQgdGVtcERpciA9IHRlbXAubWtkaXJTeW5jKClcbiAgICBsZXQgdGVtcEZpbGUgPSBwYXRoLmpvaW4odGVtcERpciwgJ2NvdmVyYWdlLm91dCcpXG4gICAgbGV0IGFyZ3MgPSBbJ3Rlc3QnLCAnLWNvdmVycHJvZmlsZT0nICsgdGVtcEZpbGVdXG4gICAgbGV0IGN3ZCA9IHBhdGguam9pbihkaXJlY3RvcnksICdzcmMnLCAnZ2l0aHViLmNvbScsICd0ZXN0dXNlcicsICdleGFtcGxlJylcbiAgICBsZXQgbG9jYXRvck9wdGlvbnMgPSB7ZGlyZWN0b3J5OiBjd2QsIGVudjogZW52fVxuICAgIGxldCBwID0gZ29jb25maWcubG9jYXRvci5maW5kVG9vbCgnZ28nLCBsb2NhdG9yT3B0aW9ucykudGhlbigoYykgPT4ge1xuICAgICAgZXhwZWN0KGMpLnRvQmVUcnV0aHkoKVxuICAgICAgY21kID0gY1xuICAgICAgcmV0dXJuXG4gICAgfSlcblxuICAgIHdhaXRzRm9yUHJvbWlzZSgoKSA9PiB7XG4gICAgICByZXR1cm4gcFxuICAgIH0pXG5cbiAgICBydW5zKCgpID0+IHtcbiAgICAgIGxldCBleGVjdXRvck9wdGlvbnMgPSB7Y3dkOiBjd2QsIGVudjogZW52fVxuICAgICAgcCA9IGdvY29uZmlnLmV4ZWN1dG9yLmV4ZWMoY21kLCBhcmdzLCBleGVjdXRvck9wdGlvbnMpLnRoZW4oKHIpID0+IHtcbiAgICAgICAgZXhwZWN0KHIuZXhpdGNvZGUpLnRvQmUoMClcbiAgICAgICAgZXhwZWN0KHIuc3RkZXJyKS50b0JlRmFsc3koKVxuICAgICAgICBleHBlY3Qoci5zdGRvdXQpLnRvQmVUcnV0aHkoKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgd2FpdHNGb3JQcm9taXNlKCgpID0+IHtcbiAgICAgIHJldHVybiBwXG4gICAgfSlcblxuICAgIHJ1bnMoKCkgPT4ge1xuICAgICAgbGV0IHJldGV4dCA9ICdeJyArIHBhdGguam9pbihkaXJlY3RvcnksICdzcmMnKSArIHBhdGguc2VwXG4gICAgICBpZiAob3MucGxhdGZvcm0oKSA9PT0gJ3dpbjMyJykge1xuICAgICAgICByZXRleHQgPSByZXRleHQucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKVxuICAgICAgfVxuXG4gICAgICBsZXQgcmUgPSBuZXcgUmVnRXhwKHJldGV4dClcbiAgICAgIGxldCBwYWNrYWdlUGF0aCA9IGZpbGVQYXRoLnJlcGxhY2UocmUsICcnKVxuXG4gICAgICBsZXQgciA9IHJhbmdlcyh0ZW1wRmlsZSlcbiAgICAgIGV4cGVjdChyKS50b0JlVHJ1dGh5KClcbiAgICAgIGV4cGVjdChyLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApXG5cbiAgICAgIGxldCByZXN1bHQgPSBfLmZpbHRlcihyLCAocikgPT4geyByZXR1cm4gXy5lbmRzV2l0aChmaWxlUGF0aCwgci5maWxlKSB9KVxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZVRydXRoeSgpXG4gICAgICBleHBlY3QocmVzdWx0Lmxlbmd0aCkudG9CZSgyKVxuICAgICAgZXhwZWN0KHJlc3VsdFswXSkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJlc3VsdFswXS5yYW5nZS5zdGFydCkudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJlc3VsdFswXS5yYW5nZS5lbmQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0ucmFuZ2Uuc3RhcnQuY29sdW1uKS50b0JlKDEzKVxuICAgICAgZXhwZWN0KHJlc3VsdFswXS5yYW5nZS5zdGFydC5yb3cpLnRvQmUoNClcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0ucmFuZ2UuZW5kLmNvbHVtbikudG9CZSgxKVxuICAgICAgZXhwZWN0KHJlc3VsdFswXS5yYW5nZS5lbmQucm93KS50b0JlKDYpXG4gICAgICBleHBlY3QocmVzdWx0WzBdLmNvdW50KS50b0JlKDApXG4gICAgICBleHBlY3QocmVzdWx0WzBdLmZpbGUpLnRvQmUocGFja2FnZVBhdGgpXG5cbiAgICAgIGV4cGVjdChyZXN1bHRbMV0pLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChyZXN1bHRbMV0ucmFuZ2Uuc3RhcnQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChyZXN1bHRbMV0ucmFuZ2UuZW5kKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QocmVzdWx0WzFdLnJhbmdlLnN0YXJ0LmNvbHVtbikudG9CZSgyMClcbiAgICAgIGV4cGVjdChyZXN1bHRbMV0ucmFuZ2Uuc3RhcnQucm93KS50b0JlKDgpXG4gICAgICBleHBlY3QocmVzdWx0WzFdLnJhbmdlLmVuZC5jb2x1bW4pLnRvQmUoMSlcbiAgICAgIGV4cGVjdChyZXN1bHRbMV0ucmFuZ2UuZW5kLnJvdykudG9CZSgxMClcbiAgICAgIGV4cGVjdChyZXN1bHRbMV0uY291bnQpLnRvQmUoMSlcbiAgICAgIGV4cGVjdChyZXN1bHRbMV0uZmlsZSkudG9CZShwYWNrYWdlUGF0aClcbiAgICB9KVxuICB9KVxufSlcbiJdfQ==
//# sourceURL=/Users/ssun/.atom/packages/tester-go/spec/gocover-parser-spec.js
